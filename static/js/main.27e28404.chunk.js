(this.webpackJsonpopenweather=this.webpackJsonpopenweather||[]).push([[0],{103:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(52),i=n.n(c),o=(n(103),n(10)),s="/",l="/forecast",b="/current",j="https://github.com/snamiki1212/open-weather-react-typescript-chakra",u="https://github.com/snamiki1212",h="https://www.linkedin.com/in/snamiki1212/",d="https://avatars.githubusercontent.com/u/26793088?s=460&u=7cd8858ef043c328a3b729553c5ad81498bd65c4&v=4",x=n(131),g=n(3);function f(){return Object(g.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"OpenWeatherApp"})}var p=n(45),O=n(132),v=n(133),C=n(134),y=n(147),k=n(143),w=n(137),m=[{text:"Current",to:b},{text:"Forecast",to:l}];function S(){return Object(g.jsx)(O.a,{p:2,bg:"gray.50",borderBottomColor:"gray.100",borderWidth:1,children:Object(g.jsxs)(v.a,{justifyContent:"space-between",children:[Object(g.jsx)(O.a,{as:"nav",children:Object(g.jsx)(C.a,{as:p.a,to:s,_hover:{textDecoration:"none"},children:Object(g.jsx)(f,{})})}),Object(g.jsxs)(v.a,{alignItems:"center",children:[m.map((function(e){return Object(g.jsx)(C.a,{as:p.a,to:e.to,_hover:{textDecoration:"none"},children:Object(g.jsx)(y.a,{bg:"gray.50",_hover:{bg:"pink.50"},children:Object(g.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontWeight:"extrabold",children:e.text})})})})),Object(g.jsx)(C.a,{href:j,_hover:{textDecoration:"none"},children:Object(g.jsx)(y.a,{bg:"gray.50",color:"gray.600",_hover:{bg:"gray.100"},borderWidth:1,borderColor:"gray.300",children:"GitHub"})}),Object(g.jsxs)(k.a,{children:[Object(g.jsx)(k.b,{as:y.a,variant:"link",cursor:"pointer",children:Object(g.jsx)(w.a,{size:"sm",src:d})}),Object(g.jsxs)(k.d,{children:[Object(g.jsx)(k.c,{as:C.a,isExternal:!0,href:u,children:"GitHub"}),Object(g.jsx)(k.c,{as:C.a,isExternal:!0,href:h,children:"Linkedin"})]})]})]})]})})}function F(){return Object(g.jsxs)(O.a,{py:30,bgGradient:"linear(to-b, gray.50, pink.100)",flexGrow:1,children:[Object(g.jsx)(v.a,{justifyContent:"center",children:Object(g.jsx)(f,{})}),Object(g.jsxs)(x.a,{pt:6,fontSize:"sm",textAlign:"center",color:"pink.700",children:["\xa9 2021 Shun Namiki",Object(g.jsx)("br",{}),"This page is created by React / TypeScript / ChakraUI."]})]})}var W=n(4),G=n(88),A=n(93),E=n(138),I=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};function z(e){var t=e.icon,n=Object(A.a)(e,["icon"]);return Object(g.jsx)(E.a,Object(G.a)({src:I(t)},n))}var H=n(139);function R(e){var t,n,r=e.item,a=(n=r.dt,new Date(1e3*n)),c=a.toDateString(),i="".concat(String(a.getHours()).padStart(2,"0"),":").concat(String(a.getMinutes()).padStart(2,"0"));return Object(g.jsx)(H.a,{bg:"gray.50",children:Object(g.jsxs)(O.a,{boxShadow:"2xl",align:"center",rounded:"lg",p:12,children:[Object(g.jsx)(O.a,{children:Object(g.jsx)(z,{icon:null===(t=r.weather[0])||void 0===t?void 0:t.icon,width:55})}),Object(g.jsxs)(O.a,{align:"center",children:[Object(g.jsx)(x.a,{w:130,children:c}),Object(g.jsx)(x.a,{children:i})]})]})})}var _=n(56),D=n.n(_),N=n(77),T="https://api.openweathermap.org/data/2.5",P="&appid=".concat("b2b86779f50b9bf6a8c0808905029f25"),M=function(e){return T+"/weather?q=".concat(e)+P},B=function(e,t){return T+"/forecast?q=".concat(e,"&cnt=").concat(t)+P},L=function(){var e=Object(N.a)(D.a.mark((function e(t){var n,r,a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(t),e.prev=1,e.next=4,fetch(n);case 4:if(404!==(r=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===r.status){e.next=11;break}throw console.error(null===r||void 0===r?void 0:r.body),new Error("Unexpected status");case 11:return e.next=13,r.json();case 13:return a=e.sent,e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(N.a)(D.a.mark((function e(t,n){var r,a,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(t,n),e.prev=1,e.next=4,fetch(r);case 4:if(404!==(a=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===a.status){e.next=11;break}throw console.error(null===a||void 0===a?void 0:a.body),new Error("Unexpected status");case 11:return e.next=13,a.json();case 13:return c=e.sent,e.abrupt("return",c);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),q="vancouver",J=n(148),V=n(140),X=n(145);function K(){var e=a.a.useState("Vancouver"),t=Object(W.a)(e,2),n=t[0],r=t[1],c=a.a.useState(n),i=Object(W.a)(c,2),o=i[0],s=i[1],l=function(){var e=a.a.useState(),t=Object(W.a)(e,2),n=t[0],r=t[1];return{weather:n,searchWeather:a.a.useCallback((function(){return L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:q).then((function(e){console.log("[after search]"),e&&r(e)}))}),[])}}(),b=l.weather,j=l.searchWeather,u=a.a.useCallback((function(e){r(e.target.value)}),[]),h=a.a.useCallback((function(){console.log("[handleClick]"),j(n).then((function(){return s(n)}))}),[n,j]),d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.a.useState(e),n=Object(W.a)(t,2),r=n[0],c=n[1],i=a.a.useCallback((function(){c((function(e){return!e}))}),[]);return{on:r,toggle:i}}(),f=d.on,p=d.toggle;a.a.useEffect((function(){console.log("[useEffect:initial-load-feature]"),j()}),[j]);var v=a.a.useCallback((function(){j(o)}),[j,o]);return a.a.useEffect((function(){if(console.log("[useEffect:interval-feature]"),f){var e=setInterval(v,12e4);return function(){return clearInterval(e)}}}),[f,v]),b?Object(g.jsxs)(O.a,{bg:"gray.50",p:2,children:[Object(g.jsx)(x.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Current Weather"}),Object(g.jsxs)(O.a,{p:5,children:[Object(g.jsxs)(J.a,{children:[Object(g.jsx)(V.a,{onChange:u,value:n}),Object(g.jsx)(y.a,{onClick:h,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Search"})]}),Object(g.jsx)(X.a,{onChange:p,isChecked:f,children:"Auto fetch"})]}),Object(g.jsxs)(O.a,{p:10,align:"center",children:[Object(g.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:o}),Object(g.jsx)(R,{item:b})]})]}):Object(g.jsx)("div",{})}function Q(e){var t=e.forecast;return t?Object(g.jsxs)(O.a,{p:4,children:[Object(g.jsx)(O.a,{align:"center",children:Object(g.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:t.city.name})}),Object(g.jsx)(O.a,{align:"center",children:Object(g.jsx)(J.a,{maxWidth:"100vw",overflowX:"scroll",spacing:10,p:30,children:t.list.map((function(e,t){return Object(g.jsx)(R,{item:e},t)}))})})]}):null}var Y=n(144),Z=n(135),$=function(e){return e>=0&&e<=16};function ee(){var e=a.a.useState("Tokyo"),t=Object(W.a)(e,2),n=t[0],r=t[1],c=a.a.useState(7),i=Object(W.a)(c,2),o=i[0],s=i[1],l=a.a.useState(void 0),b=Object(W.a)(l,2),j=b[0],u=b[1],h=a.a.useState(!1),d=Object(W.a)(h,2),f=d[0],p=d[1],v=a.a.useCallback((function(e){r(e.target.value)}),[]),C=a.a.useCallback((function(e){var t=parseInt(e||0);isNaN(t)||$(t)&&s(t)}),[]),k=a.a.useCallback((function(){if(!f){p(!0);var e=$(o)?o:7;console.log("cityname",n,"days",e),U(n,e).then((function(e){e&&u(e)})).catch((function(e){return console.log("oh, err",e)})).finally((function(){return p(!1)}))}}),[o,n,f]);return Object(g.jsxs)(J.b,{bg:"gray.50",p:2,children:[Object(g.jsx)(x.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Forecast"}),Object(g.jsxs)(J.b,{p:10,m:2,borderRadius:10,borderWidth:1,children:[Object(g.jsxs)(J.a,{align:"center",justifyContent:"space-between",children:[Object(g.jsx)(x.a,{as:"label",children:"City Name"}),Object(g.jsx)(V.a,{value:n,onChange:v,placeholder:"e.g. Tokyo",width:"80%"})]}),Object(g.jsxs)(J.a,{align:"center",justifyContent:"space-between",children:[Object(g.jsx)(x.a,{as:"label",children:"Items"}),Object(g.jsxs)(Y.c,{value:o,onChange:C,placeholder:"e.g. 0~16",width:"80%",children:[Object(g.jsx)(Y.d,{}),Object(g.jsxs)(Y.e,{children:[Object(g.jsx)(Y.b,{}),Object(g.jsx)(Y.a,{})]})]})]}),Object(g.jsx)(y.a,{onClick:k,disabled:f,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Get Forecast"})]}),f?Object(g.jsx)(O.a,{align:"center",children:Object(g.jsx)(Z.a,{color:"pink"})}):Object(g.jsx)(Q,{forecast:j})]})}var te=[{title:"Weather",description:"Access current weather data for any location including over 200,000 cities.",path:b},{title:"Forecast",description:"5 day forecast including weather data every 3 hours is available at any location or city.",path:l}];function ne(){return Object(g.jsxs)(O.a,{bg:"gray.50",px:10,children:[Object(g.jsx)(O.a,{py:10,children:Object(g.jsxs)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:100,lineHeight:"90px",fontWeight:"extrabold",children:["Open",Object(g.jsx)("br",{}),"Weather",Object(g.jsx)("br",{}),"App",Object(g.jsx)("br",{})]})}),Object(g.jsx)(J.a,{align:"center",py:10,children:te.map((function(e,t){return Object(g.jsxs)(O.a,{p:10,borderColor:"gray.300",borderWidth:1,borderRadius:"10px",children:[Object(g.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:50,fontWeight:"extrabold",children:e.title}),Object(g.jsx)(x.a,{color:"pink.600",children:e.description}),Object(g.jsx)(C.a,{to:e.path,as:p.a,_hover:{textDecoration:"none"},children:Object(g.jsx)(y.a,{mt:4,bg:"pink.500",_hover:{bg:"pink.300"},color:"white",children:"Goto Page!"})})]},t)}))})]})}var re=n(146);function ae(){return Object(g.jsxs)(o.d,{children:[Object(g.jsx)(o.b,{path:b,children:Object(g.jsx)(K,{})}),Object(g.jsx)(o.b,{path:l,children:Object(g.jsx)(ee,{})}),Object(g.jsx)(o.b,{path:s,children:Object(g.jsx)(ne,{})})]})}var ce=function(){return Object(g.jsx)(re.a,{children:Object(g.jsx)(o.a,{children:Object(g.jsxs)(v.a,{minHeight:"100vh",flexDir:"column",children:[Object(g.jsx)(S,{}),Object(g.jsx)(ae,{}),Object(g.jsx)(F,{})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(ce,{})}),document.getElementById("root")),ie()}},[[113,1,2]]]);
//# sourceMappingURL=main.27e28404.chunk.js.map