(this.webpackJsonpopenweather=this.webpackJsonpopenweather||[]).push([[0],{107:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(54),i=n.n(a),o=(n(107),n(13)),s="/",l="/forecast",b="/current",j="https://github.com/snamiki1212/open-weather-react-typescript-chakra",h="https://github.com/snamiki1212",u="https://www.linkedin.com/in/snamiki1212/",d="https://avatars.githubusercontent.com/u/26793088?s=460&u=7cd8858ef043c328a3b729553c5ad81498bd65c4&v=4",x=n(134),O=n(3);function g(){return Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"OpenWeatherApp"})}var p=n(46),f=n(120),v=n(135),y=n(136),C=n(137),k=n(150),w=n(151),m=n(139),S=n(146),F=n(141),W=[{text:"Current",to:b},{text:"Forecast",to:l}];function G(){var e=Object(f.b)(),t=e.colorMode,n=e.toggleColorMode,r=Object(f.c)("gray.50","gray.900"),c=Object(f.c)("pink.50","pink.900");return Object(O.jsx)(v.a,{p:2,bg:Object(f.c)("gray.50","gray.900"),borderBottomColor:Object(f.c)("gray.100","gray.700"),borderWidth:1,children:Object(O.jsxs)(y.a,{justifyContent:"space-between",children:[Object(O.jsx)(v.a,{as:"nav",children:Object(O.jsx)(C.a,{as:p.a,to:s,_hover:{textDecoration:"none"},children:Object(O.jsx)(g,{})})}),Object(O.jsxs)(k.a,{children:[W.map((function(e){return Object(O.jsx)(C.a,{as:p.a,to:e.to,_hover:{textDecoration:"none"},children:Object(O.jsx)(w.a,{bg:r,_hover:{bg:c},children:Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontWeight:"extrabold",children:e.text})})})})),Object(O.jsx)(C.a,{href:j,_hover:{textDecoration:"none"},children:Object(O.jsx)(w.a,{bg:Object(f.c)("gray.50","gray.900"),color:"gray.500",_hover:{bg:Object(f.c)("gray.100","gray.800")},children:"GitHub"})}),Object(O.jsxs)(k.a,{p:2,spacing:1.5,children:[Object(O.jsx)(x.a,{children:"\ud83c\udf19"}),Object(O.jsx)(m.a,{isChecked:"light"===t,onChange:n,colorScheme:"pink"}),Object(O.jsx)(x.a,{children:"\u2600\ufe0f"})]}),Object(O.jsxs)(S.a,{children:[Object(O.jsx)(S.b,{as:w.a,variant:"link",cursor:"pointer",children:Object(O.jsx)(F.a,{size:"sm",src:d})}),Object(O.jsxs)(S.d,{children:[Object(O.jsx)(S.c,{as:C.a,isExternal:!0,href:h,_hover:{textDecor:"none"},children:"GitHub"}),Object(O.jsx)(S.c,{as:C.a,isExternal:!0,href:u,_hover:{textDecor:"none"},children:"Linkedin"})]})]})]})]})})}function A(){return Object(O.jsxs)(v.a,{py:30,bgGradient:Object(f.c)("linear(to-b, gray.50, pink.100)","linear(to-b, gray.900, pink.900)"),flexGrow:1,children:[Object(O.jsx)(y.a,{justifyContent:"center",children:Object(O.jsx)(g,{})}),Object(O.jsxs)(x.a,{pt:6,fontSize:"sm",textAlign:"center",color:"pink.700",children:["\xa9 2021 Shun Namiki",Object(O.jsx)("br",{}),"This page is created by React / TypeScript / ChakraUI."]})]})}var E=n(4),_=n(90),D=n(95),z=n(142),H=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};function I(e){var t=e.icon,n=Object(D.a)(e,["icon"]);return Object(O.jsx)(z.a,Object(_.a)({src:H(t)},n))}var R=n(143);function N(e){var t,n,r=e.item,c=(n=r.dt,new Date(1e3*n)),a=c.toDateString(),i="".concat(String(c.getHours()).padStart(2,"0"),":").concat(String(c.getMinutes()).padStart(2,"0"));return Object(O.jsx)(R.a,{children:Object(O.jsxs)(v.a,{boxShadow:"2xl",align:"center",rounded:"lg",p:12,borderWidth:1,borderColor:Object(f.c)("gray.50","gray.700"),children:[Object(O.jsx)(v.a,{children:Object(O.jsx)(I,{icon:null===(t=r.weather[0])||void 0===t?void 0:t.icon,width:55})}),Object(O.jsxs)(v.a,{align:"center",children:[Object(O.jsx)(x.a,{w:130,children:a}),Object(O.jsx)(x.a,{children:i})]})]})})}var T=n(57),P=n.n(T),M=n(79),B="https://api.openweathermap.org/data/2.5",L="&appid=".concat("b2b86779f50b9bf6a8c0808905029f25"),U=function(e){return B+"/weather?q=".concat(e)+L},q=function(e,t){return B+"/forecast?q=".concat(e,"&cnt=").concat(t)+L},J=function(){var e=Object(M.a)(P.a.mark((function e(t){var n,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U(t),e.prev=1,e.next=4,fetch(n);case 4:if(404!==(r=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===r.status){e.next=11;break}throw console.error(null===r||void 0===r?void 0:r.body),new Error("Unexpected status");case 11:return e.next=13,r.json();case 13:return c=e.sent,e.abrupt("return",c);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(M.a)(P.a.mark((function e(t,n){var r,c,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=q(t,n),e.prev=1,e.next=4,fetch(r);case 4:if(404!==(c=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===c.status){e.next=11;break}throw console.error(null===c||void 0===c?void 0:c.body),new Error("Unexpected status");case 11:return e.next=13,c.json();case 13:return a=e.sent,e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),X="vancouver",K=n(144),Q=n(148);function Y(){var e=c.a.useState("Vancouver"),t=Object(E.a)(e,2),n=t[0],r=t[1],a=c.a.useState(n),i=Object(E.a)(a,2),o=i[0],s=i[1],l=function(){var e=c.a.useState(),t=Object(E.a)(e,2),n=t[0],r=t[1];return{weather:n,searchWeather:c.a.useCallback((function(){return J(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X).then((function(e){console.log("[after search]"),e&&r(e)}))}),[])}}(),b=l.weather,j=l.searchWeather,h=c.a.useCallback((function(e){r(e.target.value)}),[]),u=c.a.useCallback((function(){console.log("[handleClick]"),j(n).then((function(){return s(n)}))}),[n,j]),d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=c.a.useState(e),n=Object(E.a)(t,2),r=n[0],a=n[1],i=c.a.useCallback((function(){a((function(e){return!e}))}),[]);return{on:r,toggle:i}}(),g=d.on,p=d.toggle;c.a.useEffect((function(){console.log("[useEffect:initial-load-feature]"),j()}),[j]);var y=c.a.useCallback((function(){j(o)}),[j,o]);c.a.useEffect((function(){if(console.log("[useEffect:interval-feature]"),g){var e=setInterval(y,12e4);return function(){return clearInterval(e)}}}),[g,y]);var C=Object(f.c)("gray.50","gray.900");return b?Object(O.jsxs)(v.a,{bg:C,p:2,children:[Object(O.jsx)(x.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Current Weather"}),Object(O.jsxs)(v.a,{p:5,children:[Object(O.jsxs)(k.a,{children:[Object(O.jsx)(K.a,{onChange:h,value:n}),Object(O.jsx)(w.a,{onClick:u,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Search"})]}),Object(O.jsx)(Q.a,{onChange:p,isChecked:g,colorScheme:"pink",children:"Auto fetch"})]}),Object(O.jsxs)(v.a,{p:10,align:"center",children:[Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:o}),Object(O.jsx)(N,{item:b})]})]}):Object(O.jsx)("div",{})}function Z(e){var t=e.forecast;return t?Object(O.jsxs)(v.a,{p:4,children:[Object(O.jsx)(v.a,{align:"center",children:Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:t.city.name})}),Object(O.jsx)(v.a,{align:"center",children:Object(O.jsx)(k.a,{maxWidth:"100vw",overflowX:"scroll",spacing:10,p:30,children:t.list.map((function(e,t){return Object(O.jsx)(N,{item:e},t)}))})})]}):null}var $=n(147),ee=n(138),te=function(e){return e>=0&&e<=16};function ne(){var e=c.a.useState("Tokyo"),t=Object(E.a)(e,2),n=t[0],r=t[1],a=c.a.useState(7),i=Object(E.a)(a,2),o=i[0],s=i[1],l=c.a.useState(void 0),b=Object(E.a)(l,2),j=b[0],h=b[1],u=c.a.useState(!1),d=Object(E.a)(u,2),g=d[0],p=d[1],y=c.a.useCallback((function(e){r(e.target.value)}),[]),C=c.a.useCallback((function(e){var t=parseInt(e||0);isNaN(t)||te(t)&&s(t)}),[]),m=c.a.useCallback((function(){if(!g){p(!0);var e=te(o)?o:7;console.log("cityname",n,"days",e),V(n,e).then((function(e){e&&h(e)})).catch((function(e){return console.log("oh, err",e)})).finally((function(){return p(!1)}))}}),[o,n,g]);return Object(O.jsxs)(k.b,{bg:Object(f.c)("gray.50","gray.900"),p:2,children:[Object(O.jsx)(x.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Forecast"}),Object(O.jsxs)(k.b,{p:10,m:2,borderRadius:10,borderWidth:1,children:[Object(O.jsxs)(k.a,{align:"center",justifyContent:"space-between",children:[Object(O.jsx)(x.a,{as:"label",children:"City Name"}),Object(O.jsx)(K.a,{value:n,onChange:y,placeholder:"e.g. Tokyo",width:"80%"})]}),Object(O.jsxs)(k.a,{align:"center",justifyContent:"space-between",children:[Object(O.jsx)(x.a,{as:"label",children:"Items"}),Object(O.jsxs)($.c,{value:o,onChange:C,placeholder:"e.g. 0~16",width:"80%",children:[Object(O.jsx)($.d,{}),Object(O.jsxs)($.e,{children:[Object(O.jsx)($.b,{}),Object(O.jsx)($.a,{})]})]})]}),Object(O.jsx)(w.a,{onClick:m,disabled:g,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Get Forecast"})]}),g?Object(O.jsx)(v.a,{align:"center",children:Object(O.jsx)(ee.a,{color:"pink"})}):Object(O.jsx)(Z,{forecast:j})]})}var re=[{title:"Weather",description:"Access current weather data for any location including over 200,000 cities.",path:b},{title:"Forecast",description:"5 day forecast including weather data every 3 hours is available at any location or city.",path:l}];function ce(){var e=Object(f.c)("gray.300","gray.600");return Object(O.jsxs)(v.a,{bg:Object(f.c)("gray.50","gray.900"),px:10,children:[Object(O.jsx)(v.a,{py:10,children:Object(O.jsxs)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:100,lineHeight:"90px",fontWeight:"extrabold",children:["Open",Object(O.jsx)("br",{}),"Weather",Object(O.jsx)("br",{}),"App",Object(O.jsx)("br",{})]})}),Object(O.jsx)(k.a,{align:"center",py:10,children:re.map((function(t,n){return Object(O.jsxs)(v.a,{p:10,borderColor:e,borderWidth:1,borderRadius:"10px",children:[Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:50,fontWeight:"extrabold",children:t.title}),Object(O.jsx)(x.a,{color:"pink.600",children:t.description}),Object(O.jsx)(C.a,{to:t.path,as:p.a,_hover:{textDecoration:"none"},children:Object(O.jsx)(w.a,{mt:4,bg:"pink.500",_hover:{bg:"pink.300"},color:"white",children:"Goto Page!"})})]},n)}))})]})}var ae=n(149);function ie(){return Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:b,children:Object(O.jsx)(Y,{})}),Object(O.jsx)(o.b,{path:l,children:Object(O.jsx)(ne,{})}),Object(O.jsx)(o.b,{path:s,children:Object(O.jsx)(ce,{})})]})}var oe=function(){return Object(O.jsx)(ae.a,{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(y.a,{minHeight:"100vh",flexDir:"column",children:[Object(O.jsx)(G,{}),Object(O.jsx)(ie,{}),Object(O.jsx)(A,{})]})})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(oe,{})}),document.getElementById("root")),se()}},[[117,1,2]]]);
//# sourceMappingURL=main.65bce651.chunk.js.map