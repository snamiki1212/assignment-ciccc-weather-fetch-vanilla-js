{"version":3,"sources":["constants.ts","components/shared/Logo.tsx","components/shared/Navigation.tsx","components/shared/Footer.tsx","components/shared/Icon.tsx","components/shared/WeatherItemCard.tsx","api/weather.ts","hooks/useCurrentWeather.ts","components/pages/CurrentPage.tsx","hooks/useToggle.tsx","components/forecast/ForecastSection.tsx","components/pages/ForecastPage.tsx","components/pages/HomePage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PATH","SNS","Logo","bgClip","bgGradient","fontSize","fontWeight","links","text","to","Navigation","p","bg","borderBottomColor","borderWidth","justifyContent","as","ReactRouterLink","_hover","textDecoration","alignItems","map","link","href","color","borderColor","Button","variant","cursor","size","src","Link","isExternal","Footer","py","flexGrow","pt","textAlign","getIconUrl","icon","Icon","rest","WeatherItemCard","dt","item","_date","Date","day","toDateString","time","String","getHours","padStart","getMinutes","boxShadow","align","rounded","weather","width","w","PREFIX_URL","SUFFIX_URL","getCurrentWeatherUrl","cityName","getForecastWeatherUrl","days","searchCurrentWeather","a","url","fetch","res","status","alert","console","error","body","Error","json","weatherObj","fetchForecastWeather","DEFAULT_CITY_NAME","CurrentPage","React","useState","inputed","setInputed","lastSearchedCityName","setLastSearchedCityName","setWeather","searchWeather","useCallback","then","log","useCurrentWeather","handleChange","event","target","value","handleClick","init","on","setOn","toggle","prev","useToggle","handleToggle","useEffect","handleInterval","setInterval","clearInterval","onChange","onClick","isChecked","ForecastSection","forecast","city","name","maxWidth","overflowX","spacing","list","idx","isRange","num","ForecastPage","setCityName","setDays","undefined","setForecst","loading","setLoading","handleChangeCityName","handleChangeDays","valueStr","_days","parseInt","isNaN","data","catch","err","finally","m","borderRadius","placeholder","disabled","pages","title","description","path","HomePage","px","lineHeight","page","mt","Body","App","minHeight","flexDir","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7fddf58.chunk.js","sourcesContent":["export const PATH = {\n  home: \"/\",\n  forecast: \"/forecast\",\n  current: \"/current\",\n} as const;\n\nexport const SNS = {\n  THIS_GITHUB:\n    \"https://github.com/snamiki1212/open-weather-react-typescript-chakra\",\n  MY_GITHUB: \"https://github.com/snamiki1212\",\n  MY_LINKEDIN: \"https://www.linkedin.com/in/snamiki1212/\",\n  MY_AVATOR:\n    \"https://avatars.githubusercontent.com/u/26793088?s=460&u=7cd8858ef043c328a3b729553c5ad81498bd65c4&v=4\",\n} as const;\n","import React from \"react\";\nimport { Text } from \"@chakra-ui/react\";\n\nexport function Logo() {\n  return (\n    <Text\n      bgClip=\"text\"\n      bgGradient=\"linear(to-l, #7928CA, #FF0080)\"\n      fontSize=\"3xl\"\n      fontWeight=\"extrabold\"\n    >\n      OpenWeatherApp\n    </Text>\n  );\n}\n","import React from \"react\";\nimport { Logo } from \"./Logo\";\nimport { Link as ReactRouterLink } from \"react-router-dom\";\nimport { PATH, SNS } from \"../../constants\";\nimport {\n  Box,\n  Flex,\n  Text,\n  Button,\n  Link,\n  Avatar,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuItem,\n} from \"@chakra-ui/react\";\n\nconst links = [\n  { text: \"Current\", to: PATH.current },\n  { text: \"Forecast\", to: PATH.forecast },\n];\n\nexport function Navigation() {\n  return (\n    <Box p={2} bg={\"gray.50\"} borderBottomColor=\"gray.100\" borderWidth={1}>\n      <Flex justifyContent=\"space-between\">\n        <Box as={\"nav\"}>\n          <Link\n            as={ReactRouterLink}\n            to={PATH.home}\n            _hover={{ textDecoration: \"none\" }}\n          >\n            <Logo />\n          </Link>\n        </Box>\n        <Flex alignItems=\"center\">\n          {links.map((link) => (\n            <Link\n              as={ReactRouterLink}\n              to={link.to}\n              _hover={{ textDecoration: \"none\" }}\n            >\n              <Button\n                bg={\"gray.50\"}\n                _hover={{\n                  bg: \"pink.50\",\n                }}\n              >\n                <Text\n                  bgClip=\"text\"\n                  bgGradient=\"linear(to-l, #7928CA, #FF0080)\"\n                  fontWeight=\"extrabold\"\n                >\n                  {link.text}\n                </Text>\n              </Button>\n            </Link>\n          ))}\n          <Link href={SNS.THIS_GITHUB} _hover={{ textDecoration: \"none\" }}>\n            <Button\n              bg=\"gray.50\"\n              color=\"gray.600\"\n              _hover={{ bg: \"gray.100\" }}\n              borderWidth={1}\n              borderColor={\"gray.300\"}\n            >\n              GitHub\n            </Button>\n          </Link>\n          <Menu>\n            <MenuButton as={Button} variant={\"link\"} cursor={\"pointer\"}>\n              <Avatar size=\"sm\" src={SNS.MY_AVATOR} />\n            </MenuButton>\n            <MenuList>\n              <MenuItem as={Link} isExternal href={SNS.MY_GITHUB}>\n                GitHub\n              </MenuItem>\n              <MenuItem as={Link} isExternal href={SNS.MY_LINKEDIN}>\n                Linkedin\n              </MenuItem>\n            </MenuList>\n          </Menu>\n        </Flex>\n      </Flex>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { Box, Flex, Text } from \"@chakra-ui/react\";\nimport { Logo } from \"./Logo\";\n\nexport function Footer() {\n  return (\n    <Box py={30} bgGradient=\"linear(to-b, gray.50, pink.100)\" flexGrow={1}>\n      <Flex justifyContent=\"center\">\n        <Logo />\n      </Flex>\n      <Text pt={6} fontSize={\"sm\"} textAlign={\"center\"} color=\"pink.700\">\n        Â© 2021 Shun Namiki\n        <br />\n        This page is created by React / TypeScript / ChakraUI.\n      </Text>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { Image } from \"@chakra-ui/react\";\n\nconst getIconUrl = (icon: string) =>\n  `http://openweathermap.org/img/wn/${icon}@2x.png`;\n\ntype Props = {\n  icon: string;\n  [key: string]: any;\n};\n\nexport function Icon({ icon, ...rest }: Props) {\n  return <Image src={getIconUrl(icon)} {...rest} />;\n}\n","import React from \"react\";\nimport { Icon } from \"./Icon\";\nimport { ForecastWeather, CurrentWeather } from \"../../types\";\nimport { Center, Box, Text } from \"@chakra-ui/react\";\n\nconst createDateFromUnixTime = (dt: number) => new Date(dt * 1_000); // REF: https://stackoverflow.com/questions/847185/convert-a-unix-timestamp-to-time-in-javascript\n\ntype Props = { item: ForecastWeather[\"list\"][0] | CurrentWeather };\n\nexport function WeatherItemCard({ item }: Props) {\n  const _date = createDateFromUnixTime(item.dt);\n  const day = _date.toDateString();\n  const time = `${String(_date.getHours()).padStart(2, \"0\")}:${String(\n    _date.getMinutes()\n  ).padStart(2, \"0\")}`;\n\n  return (\n    <Center bg=\"gray.50\">\n      <Box boxShadow=\"2xl\" align=\"center\" rounded={\"lg\"} p={12}>\n        <Box>\n          <Icon icon={item.weather[0]?.icon} width={55} />\n        </Box>\n        <Box align=\"center\">\n          <Text w={130}>{day}</Text>\n          <Text>{time}</Text>\n        </Box>\n      </Box>\n    </Center>\n  );\n}\n","import { CurrentWeather, ForecastWeather } from \"../types\";\n\n// APIs\nconst API_KEY = \"b2b86779f50b9bf6a8c0808905029f25\";\nconst PREFIX_URL = \"https://api.openweathermap.org/data/2.5\";\nconst SUFFIX_URL = `&appid=${API_KEY}`;\n\n// urls\nconst getCurrentWeatherUrl = (cityName: string) =>\n  PREFIX_URL + `/weather?q=${cityName}` + SUFFIX_URL;\nconst getForecastWeatherUrl = (cityName: string, days: number) =>\n  PREFIX_URL + `/forecast?q=${cityName}&cnt=${days}` + SUFFIX_URL;\n\n// fetchers\nexport const searchCurrentWeather = async (cityName: string) => {\n  const url = getCurrentWeatherUrl(cityName);\n  try {\n    const res = await fetch(url);\n    if (res.status === 404) {\n      alert(\"maybe, city not found\"); // TODO: Don't alert here\n      return;\n    }\n    if (res.status !== 200) {\n      console.error(res?.body);\n      throw new Error(\"Unexpected status\");\n    }\n\n    const weatherObj: CurrentWeather = await res.json(); // TODO: improve type\n    return weatherObj;\n  } catch (err) {\n    console.error(\"SOMETHING ERROR HAPPEN: \", err);\n  }\n};\n\nexport const fetchForecastWeather = async (cityName: string, days: number) => {\n  const url = getForecastWeatherUrl(cityName, days);\n  try {\n    const res = await fetch(url);\n    if (res.status === 404) {\n      alert(\"maybe, city not found\"); // TODO: Don't alert here\n      return;\n    }\n    if (res.status !== 200) {\n      console.error(res?.body);\n      throw new Error(\"Unexpected status\");\n    }\n\n    const weatherObj: ForecastWeather = await res.json(); // TODO: improve type\n    return weatherObj;\n  } catch (err) {\n    console.error(\"SOMETHING ERROR HAPPEN: \", err);\n  }\n};\n","import React from \"react\";\nimport { CurrentWeather } from \"../types\";\nimport { searchCurrentWeather } from \"../api/weather\";\n\nconst DEFAULT_CITY_NAME = \"vancouver\";\n\nexport const useCurrentWeather = () => {\n  const [weather, setWeather] = React.useState<CurrentWeather | undefined>();\n\n  const searchWeather = React.useCallback((cityName = DEFAULT_CITY_NAME) => {\n    return searchCurrentWeather(cityName).then((weatherObj) => {\n      console.log(\"[after search]\");\n      if (!weatherObj) return;\n      setWeather(weatherObj);\n    });\n  }, []);\n\n  return { weather, searchWeather };\n};\n","import React from \"react\";\nimport { WeatherItemCard } from \"../shared/WeatherItemCard\";\nimport { useCurrentWeather } from \"../../hooks/useCurrentWeather\";\nimport { useToggle } from \"../../hooks/useToggle\";\nimport { Box, Button, Input, Checkbox, HStack, Text } from \"@chakra-ui/react\";\n\n// TODO: modifable input\nconst RETRY_DURATION_MILLISECOND = 1_000 * 2 * 60;\n\nexport function CurrentPage() {\n  // TODO: not using useState but to handle using useRef because of reducing re-rendering\n  const [inputed, setInputed] = React.useState<string>(\"Vancouver\");\n  const [\n    lastSearchedCityName,\n    setLastSearchedCityName,\n  ] = React.useState<string>(inputed);\n  const { weather, searchWeather } = useCurrentWeather();\n\n  const handleChange = React.useCallback((event) => {\n    setInputed(event.target.value);\n  }, []);\n\n  const handleClick = React.useCallback(() => {\n    console.log(\"[handleClick]\");\n    searchWeather(inputed).then(() => setLastSearchedCityName(inputed));\n  }, [inputed, searchWeather]);\n\n  const { on, toggle: handleToggle } = useToggle();\n\n  React.useEffect(() => {\n    console.log(\"[useEffect:initial-load-feature]\");\n    searchWeather();\n  }, [searchWeather]);\n\n  const searchCurrentWeather = React.useCallback(() => {\n    searchWeather(lastSearchedCityName);\n  }, [searchWeather, lastSearchedCityName]);\n\n  React.useEffect(() => {\n    console.log(\"[useEffect:interval-feature]\");\n    if (!on) return;\n    const handleInterval = setInterval(\n      searchCurrentWeather,\n      RETRY_DURATION_MILLISECOND\n    );\n    return () => clearInterval(handleInterval);\n  }, [on, searchCurrentWeather]);\n\n  if (!weather) return <div></div>;\n\n  return (\n    <Box bg=\"gray.50\" p={2}>\n      <Text\n        align=\"center\"\n        bgClip=\"text\"\n        bgGradient=\"linear(to-b, #7928CA, #FF0080)\"\n        fontSize=\"3xl\"\n        fontWeight=\"extrabold\"\n      >\n        Current Weather\n      </Text>\n      <Box p={5}>\n        <HStack>\n          <Input onChange={handleChange} value={inputed} />\n          <Button\n            onClick={handleClick}\n            bg=\"pink.600\"\n            color=\"white\"\n            _hover={{\n              bg: \"pink.500\",\n            }}\n          >\n            Search\n          </Button>\n        </HStack>\n        <Checkbox onChange={handleToggle} isChecked={on}>\n          Auto fetch\n        </Checkbox>\n      </Box>\n\n      <Box p={10} align=\"center\">\n        <Text\n          bgClip=\"text\"\n          bgGradient=\"linear(to-b, #7928CA, #FF0080)\"\n          fontSize=\"3xl\"\n          fontWeight=\"extrabold\"\n        >\n          {lastSearchedCityName}\n        </Text>\n        <WeatherItemCard item={weather} />\n      </Box>\n    </Box>\n  );\n}\n","import React from \"react\";\n\nexport const useToggle = (init = true) => {\n  const [on, setOn] = React.useState<boolean>(init);\n  const toggle = React.useCallback(() => {\n    setOn((prev) => !prev);\n  }, []);\n  return { on, toggle };\n};\n","import React from \"react\";\nimport { ForecastWeather } from \"../../types\";\nimport { HStack, Box, Text } from \"@chakra-ui/react\";\nimport { WeatherItemCard } from \"../shared/WeatherItemCard\";\n\nexport function ForecastSection({ forecast }: { forecast?: ForecastWeather }) {\n  if (!forecast) return null;\n  return (\n    <Box p={4}>\n      <Box align=\"center\">\n        <Text\n          bgClip=\"text\"\n          bgGradient=\"linear(to-b, #7928CA, #FF0080)\"\n          fontSize=\"3xl\"\n          fontWeight=\"extrabold\"\n        >\n          {forecast.city.name}\n        </Text>\n      </Box>\n      <Box align=\"center\">\n        <HStack maxWidth=\"100vw\" overflowX=\"scroll\" spacing={10} p={30}>\n          {forecast.list.map((item, idx) => (\n            <WeatherItemCard item={item} key={idx} />\n          ))}\n        </HStack>\n      </Box>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { fetchForecastWeather } from \"../../api/weather\";\nimport { ForecastWeather } from \"../../types\";\nimport { ForecastSection } from \"../forecast/ForecastSection\";\n\nimport {\n  NumberInput,\n  NumberInputField,\n  NumberInputStepper,\n  NumberIncrementStepper,\n  NumberDecrementStepper,\n  Button,\n  Input,\n  Stack,\n  HStack,\n  Text,\n  Spinner,\n  Box,\n} from \"@chakra-ui/react\";\n\nconst DEFAULT_NUMBER_OS_DAYS = 7;\nconst DEFAULT_CITY_NAME = \"Tokyo\";\nconst MAX_DAYS = 16;\nconst isRange = (num: number) => num >= 0 && num <= MAX_DAYS;\n\nexport function ForecastPage() {\n  const [cityName, setCityName] = React.useState<string>(DEFAULT_CITY_NAME);\n  const [days, setDays] = React.useState<number>(DEFAULT_NUMBER_OS_DAYS);\n  const [forecast, setForecst] = React.useState<ForecastWeather | undefined>(\n    undefined\n  );\n  const [loading, setLoading] = React.useState<boolean>(false);\n\n  const handleChangeCityName = React.useCallback((event) => {\n    setCityName(event.target.value);\n  }, []);\n\n  const handleChangeDays = React.useCallback((valueStr) => {\n    const _days = parseInt(valueStr || 0);\n    if (isNaN(_days)) return;\n    if (!isRange(_days)) return;\n    setDays(_days);\n  }, []);\n\n  const handleClick = React.useCallback(() => {\n    if (loading) return;\n    setLoading(true);\n    const _days = isRange(days) ? days : DEFAULT_NUMBER_OS_DAYS;\n    console.log(\"cityname\", cityName, \"days\", _days);\n    fetchForecastWeather(cityName, _days)\n      .then((data) => {\n        if (!data) return;\n        setForecst(data);\n      })\n      .catch((err) => console.log(\"oh, err\", err))\n      .finally(() => setLoading(false));\n  }, [days, cityName, loading]);\n\n  return (\n    <Stack bg=\"gray.50\" p={2}>\n      <Text\n        align=\"center\"\n        bgClip=\"text\"\n        bgGradient=\"linear(to-b, #7928CA, #FF0080)\"\n        fontSize=\"3xl\"\n        fontWeight=\"extrabold\"\n      >\n        Forecast\n      </Text>\n      <Stack p={10} m={2} borderRadius={10} borderWidth={1}>\n        <HStack align=\"center\" justifyContent=\"space-between\">\n          <Text as=\"label\">City Name</Text>\n          <Input\n            value={cityName}\n            onChange={handleChangeCityName}\n            placeholder=\"e.g. Tokyo\"\n            width=\"80%\"\n          />\n        </HStack>\n\n        <HStack align=\"center\" justifyContent=\"space-between\">\n          <Text as=\"label\">Items</Text>\n          <NumberInput\n            value={days}\n            onChange={handleChangeDays}\n            placeholder=\"e.g. 0~16\"\n            width=\"80%\"\n          >\n            <NumberInputField />\n            <NumberInputStepper>\n              <NumberIncrementStepper />\n              <NumberDecrementStepper />\n            </NumberInputStepper>\n          </NumberInput>\n        </HStack>\n\n        <Button\n          onClick={handleClick}\n          disabled={loading}\n          bg=\"pink.600\"\n          color=\"white\"\n          _hover={{\n            bg: \"pink.500\",\n          }}\n        >\n          Get Forecast\n        </Button>\n      </Stack>\n\n      {loading ? (\n        <Box align=\"center\">\n          <Spinner color=\"pink\" />\n        </Box>\n      ) : (\n        <ForecastSection forecast={forecast} />\n      )}\n    </Stack>\n  );\n}\n","import React from \"react\";\nimport { Link as ReactRouterLink } from \"react-router-dom\";\nimport { Text, Box, Button, HStack, Link } from \"@chakra-ui/react\";\nimport { PATH } from \"../../constants\";\n\nconst pages = [\n  {\n    title: \"Weather\",\n    description:\n      \"Access current weather data for any location including over 200,000 cities.\",\n    path: PATH.current,\n  },\n  {\n    title: \"Forecast\",\n    description:\n      \"5 day forecast including weather data every 3 hours is available at any location or city.\",\n    path: PATH.forecast,\n  },\n] as const;\n\nexport function HomePage() {\n  return (\n    <Box bg=\"gray.50\" px={10}>\n      <Box py={10}>\n        <Text\n          bgClip=\"text\"\n          bgGradient=\"linear(to-b, #7928CA, #FF0080)\"\n          fontSize={100}\n          lineHeight=\"90px\"\n          fontWeight=\"extrabold\"\n        >\n          Open\n          <br />\n          Weather\n          <br />\n          App\n          <br />\n        </Text>\n      </Box>\n      <HStack align=\"center\" py={10}>\n        {pages.map((page, idx) => (\n          <Box\n            key={idx}\n            p={10}\n            borderColor={\"gray.300\"}\n            borderWidth={1}\n            borderRadius=\"10px\"\n          >\n            <Text\n              bgClip=\"text\"\n              bgGradient=\"linear(to-b, #7928CA, #FF0080)\"\n              fontSize={50}\n              fontWeight=\"extrabold\"\n            >\n              {page.title}\n            </Text>\n            <Text color=\"pink.600\">{page.description}</Text>\n            <Link\n              to={page.path}\n              as={ReactRouterLink}\n              _hover={{ textDecoration: \"none\" }}\n            >\n              <Button\n                mt={4}\n                bg=\"pink.500\"\n                _hover={{ bg: \"pink.300\" }}\n                color={\"white\"}\n              >\n                Goto Page!\n              </Button>\n            </Link>\n          </Box>\n        ))}\n      </HStack>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { PATH } from \"./constants\";\nimport { Navigation } from \"./components/shared/Navigation\";\nimport { Footer } from \"./components/shared/Footer\";\nimport { CurrentPage } from \"./components/pages/CurrentPage\";\nimport { ForecastPage } from \"./components/pages/ForecastPage\";\nimport { HomePage } from \"./components/pages/HomePage\";\nimport { ChakraProvider, Flex } from \"@chakra-ui/react\";\n\nfunction Body() {\n  return (\n    <Switch>\n      <Route path={PATH.current}>\n        <CurrentPage />\n      </Route>\n      <Route path={PATH.forecast}>\n        <ForecastPage />\n      </Route>\n      <Route path={PATH.home}>\n        <HomePage />\n      </Route>\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <ChakraProvider>\n      <Router>\n        <Flex minHeight=\"100vh\" flexDir=\"column\">\n          <Navigation />\n          <Body />\n          <Footer />\n        </Flex>\n      </Router>\n    </ChakraProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}