(this.webpackJsonpopenweather=this.webpackJsonpopenweather||[]).push([[0],{103:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(52),i=n.n(c),o=(n(103),n(10)),s=n(42),l="/",b="/forecast",j="/current",u="https://github.com/snamiki1212/open-weather-react-typescript-chakra",h="https://github.com/snamiki1212",d="https://www.linkedin.com/in/snamiki1212/",x="https://avatars.githubusercontent.com/u/26793088?s=460&u=7cd8858ef043c328a3b729553c5ad81498bd65c4&v=4",f=n(131),p=n(3);function O(){return Object(p.jsx)(f.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"OpenWeatherApp"})}var g=n(132),v=n(133),C=n(134),k=n(147),y=n(143),w=n(137),m=[{text:"Current",to:j},{text:"Forecast",to:b}];function S(){return Object(p.jsx)(g.a,{p:2,bg:"gray.50",borderBottomColor:"gray.100",borderWidth:1,children:Object(p.jsxs)(v.a,{justifyContent:"space-between",children:[Object(p.jsx)(g.a,{as:"nav",children:Object(p.jsx)(C.a,{as:s.b,to:l,_hover:{textDecoration:"none"},children:Object(p.jsx)(O,{})})}),Object(p.jsxs)(v.a,{alignItems:"center",children:[m.map((function(e){return Object(p.jsx)(C.a,{as:s.b,to:e.to,_hover:{textDecoration:"none"},children:Object(p.jsx)(k.a,{bg:"gray.50",_hover:{bg:"pink.50"},children:Object(p.jsx)(f.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontWeight:"extrabold",children:e.text})})})})),Object(p.jsx)(C.a,{href:u,_hover:{textDecoration:"none"},children:Object(p.jsx)(k.a,{color:"gray.600",children:"GitHub"})}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(y.b,{as:k.a,variant:"link",cursor:"pointer",children:Object(p.jsx)(w.a,{size:"sm",src:x})}),Object(p.jsxs)(y.d,{children:[Object(p.jsx)(y.c,{as:C.a,isExternal:!0,href:h,children:"GitHub"}),Object(p.jsx)(y.c,{as:C.a,isExternal:!0,href:d,children:"Linkedin"})]})]})]})]})})}function F(){return Object(p.jsxs)(g.a,{py:30,bgGradient:"linear(to-b, gray.50, pink.100)",flexGrow:1,children:[Object(p.jsx)(v.a,{justifyContent:"center",children:Object(p.jsx)(O,{})}),Object(p.jsxs)(f.a,{pt:6,fontSize:"sm",textAlign:"center",color:"pink.700",children:["\xa9 2021 Shun Namiki",Object(p.jsx)("br",{}),"This page is created by React / TypeScript / ChakraUI."]})]})}var W=n(4),G=n(88),A=n(93),E=n(138),z=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};function D(e){var t=e.icon,n=Object(A.a)(e,["icon"]);return Object(p.jsx)(E.a,Object(G.a)({src:z(t)},n))}var H=n(139);function I(e){var t,n,r=e.item,a=(n=r.dt,new Date(1e3*n)),c=a.toDateString(),i="".concat(String(a.getHours()).padStart(2,"0"),":").concat(String(a.getMinutes()).padStart(2,"0"));return Object(p.jsx)(H.a,{bg:"gray.50",children:Object(p.jsxs)(g.a,{boxShadow:"2xl",align:"center",rounded:"lg",p:12,children:[Object(p.jsx)(g.a,{children:Object(p.jsx)(D,{icon:null===(t=r.weather[0])||void 0===t?void 0:t.icon,width:55})}),Object(p.jsxs)(g.a,{align:"center",children:[Object(p.jsx)(f.a,{w:130,children:c}),Object(p.jsx)(f.a,{children:i})]})]})})}var R=n(56),N=n.n(R),T=n(77),_="https://api.openweathermap.org/data/2.5",P="&appid=".concat("b2b86779f50b9bf6a8c0808905029f25"),M=function(e){return _+"/weather?q=".concat(e)+P},B=function(e,t){return _+"/forecast?q=".concat(e,"&cnt=").concat(t)+P},L=function(){var e=Object(T.a)(N.a.mark((function e(t){var n,r,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(t),e.prev=1,e.next=4,fetch(n);case 4:if(404!==(r=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===r.status){e.next=11;break}throw console.error(null===r||void 0===r?void 0:r.body),new Error("Unexpected status");case 11:return e.next=13,r.json();case 13:return a=e.sent,e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(T.a)(N.a.mark((function e(t,n){var r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(t,n),e.prev=1,e.next=4,fetch(r);case 4:if(404!==(a=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===a.status){e.next=11;break}throw console.error(null===a||void 0===a?void 0:a.body),new Error("Unexpected status");case 11:return e.next=13,a.json();case 13:return c=e.sent,e.abrupt("return",c);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),q="vancouver",J=n(148),V=n(140),X=n(145);function K(){var e=a.a.useState("Vancouver"),t=Object(W.a)(e,2),n=t[0],r=t[1],c=a.a.useState(n),i=Object(W.a)(c,2),o=i[0],s=i[1],l=function(){var e=a.a.useState(),t=Object(W.a)(e,2),n=t[0],r=t[1];return{weather:n,searchWeather:a.a.useCallback((function(){return L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:q).then((function(e){console.log("[after search]"),e&&r(e)}))}),[])}}(),b=l.weather,j=l.searchWeather,u=a.a.useCallback((function(e){r(e.target.value)}),[]),h=a.a.useCallback((function(){console.log("[handleClick]"),j(n).then((function(){return s(n)}))}),[n,j]),d=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=a.a.useState(e),n=Object(W.a)(t,2),r=n[0],c=n[1],i=a.a.useCallback((function(){c((function(e){return!e}))}),[]);return{on:r,toggle:i}}(),x=d.on,O=d.toggle;a.a.useEffect((function(){console.log("[useEffect:initial-load-feature]"),j()}),[j]);var v=a.a.useCallback((function(){j(o)}),[j,o]);return a.a.useEffect((function(){if(console.log("[useEffect:interval-feature]"),x){var e=setInterval(v,12e4);return function(){return clearInterval(e)}}}),[x,v]),b?Object(p.jsxs)(g.a,{bg:"gray.50",p:2,children:[Object(p.jsx)(f.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Current Weather"}),Object(p.jsxs)(g.a,{p:5,children:[Object(p.jsxs)(J.a,{children:[Object(p.jsx)(V.a,{onChange:u,value:n}),Object(p.jsx)(k.a,{onClick:h,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Search"})]}),Object(p.jsx)(X.a,{onChange:O,isChecked:x,children:"Auto fetch"})]}),Object(p.jsxs)(g.a,{p:10,align:"center",children:[Object(p.jsx)(f.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:o}),Object(p.jsx)(I,{item:b})]})]}):Object(p.jsx)("div",{})}function Q(e){var t=e.forecast;return t?Object(p.jsxs)(g.a,{p:4,children:[Object(p.jsx)(g.a,{align:"center",children:Object(p.jsx)(f.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:t.city.name})}),Object(p.jsx)(g.a,{align:"center",children:Object(p.jsx)(J.a,{maxWidth:"100vw",overflowX:"scroll",spacing:10,p:30,children:t.list.map((function(e,t){return Object(p.jsx)(I,{item:e},t)}))})})]}):null}var Y=n(144),Z=n(135),$=function(e){return e>=0&&e<=16};function ee(){var e=a.a.useState("Tokyo"),t=Object(W.a)(e,2),n=t[0],r=t[1],c=a.a.useState(7),i=Object(W.a)(c,2),o=i[0],s=i[1],l=a.a.useState(void 0),b=Object(W.a)(l,2),j=b[0],u=b[1],h=a.a.useState(!1),d=Object(W.a)(h,2),x=d[0],O=d[1],v=a.a.useCallback((function(e){r(e.target.value)}),[]),C=a.a.useCallback((function(e){var t=parseInt(e||0);isNaN(t)||$(t)&&s(t)}),[]),y=a.a.useCallback((function(){if(!x){O(!0);var e=$(o)?o:7;console.log("cityname",n,"days",e),U(n,e).then((function(e){e&&u(e)})).catch((function(e){return console.log("oh, err",e)})).finally((function(){return O(!1)}))}}),[o,n,x]);return Object(p.jsxs)(J.b,{bg:"gray.50",p:2,children:[Object(p.jsx)(f.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Forecast"}),Object(p.jsxs)(J.b,{p:10,m:2,borderRadius:10,borderWidth:1,children:[Object(p.jsxs)(J.a,{align:"center",justifyContent:"space-between",children:[Object(p.jsx)(f.a,{as:"label",children:"City Name"}),Object(p.jsx)(V.a,{value:n,onChange:v,placeholder:"e.g. Tokyo",width:"80%"})]}),Object(p.jsxs)(J.a,{align:"center",justifyContent:"space-between",children:[Object(p.jsx)(f.a,{as:"label",children:"Days"}),Object(p.jsxs)(Y.c,{value:o,onChange:C,placeholder:"e.g. 0~16",width:"80%",children:[Object(p.jsx)(Y.d,{}),Object(p.jsxs)(Y.e,{children:[Object(p.jsx)(Y.b,{}),Object(p.jsx)(Y.a,{})]})]})]}),Object(p.jsx)(k.a,{onClick:y,disabled:x,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Get Forecast"})]}),x?Object(p.jsx)(g.a,{align:"center",children:Object(p.jsx)(Z.a,{color:"pink"})}):Object(p.jsx)(Q,{forecast:j})]})}var te=[{title:"Weather",description:"Access current weather data for any location including over 200,000 cities.",path:j},{title:"Forecast",description:"5 day forecast including weather data every 3 hours is available at any location or city.",path:b}];function ne(){return Object(p.jsxs)(g.a,{bg:"gray.50",px:10,children:[Object(p.jsx)(g.a,{py:10,children:Object(p.jsxs)(f.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:100,lineHeight:"90px",fontWeight:"extrabold",children:["Open",Object(p.jsx)("br",{}),"Weather",Object(p.jsx)("br",{}),"App",Object(p.jsx)("br",{})]})}),Object(p.jsx)(J.a,{align:"center",py:10,children:te.map((function(e,t){return Object(p.jsxs)(g.a,{p:10,borderColor:"gray.300",borderWidth:1,borderRadius:"10px",children:[Object(p.jsx)(f.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:50,fontWeight:"extrabold",children:e.title}),Object(p.jsx)(f.a,{color:"pink.600",children:e.description}),Object(p.jsx)(C.a,{to:e.path,as:s.b,_hover:{textDecoration:"none"},children:Object(p.jsx)(k.a,{mt:4,bg:"pink.500",_hover:{bg:"pink.300"},color:"white",children:"Goto Page!"})})]},t)}))})]})}var re=n(146);function ae(){return Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:j,children:Object(p.jsx)(K,{})}),Object(p.jsx)(o.a,{path:b,children:Object(p.jsx)(ee,{})}),Object(p.jsx)(o.a,{path:l,children:Object(p.jsx)(ne,{})})]})}var ce=function(){return Object(p.jsx)(re.a,{children:Object(p.jsx)(s.a,{children:Object(p.jsxs)(v.a,{minHeight:"100vh",flexDir:"column",children:[Object(p.jsx)(S,{}),Object(p.jsx)(ae,{}),Object(p.jsx)(F,{})]})})})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ce,{})}),document.getElementById("root")),ie()}},[[113,1,2]]]);
//# sourceMappingURL=main.929f2c9f.chunk.js.map