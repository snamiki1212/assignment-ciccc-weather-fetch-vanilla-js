(this.webpackJsonpopenweather=this.webpackJsonpopenweather||[]).push([[0],{107:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(54),i=n.n(a),o=(n(107),n(13)),s="/",b="/forecast",l="/current",j="https://github.com/snamiki1212/open-weather-react-typescript-chakra",h="https://github.com/snamiki1212",u="https://www.linkedin.com/in/snamiki1212/",d="https://avatars.githubusercontent.com/u/26793088?s=460&u=7cd8858ef043c328a3b729553c5ad81498bd65c4&v=4",x=n(134),O=n(3);function g(){return Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"OpenWeatherApp"})}var p=n(46),f=n(120),v=n(135),y=n(136),k=n(137),C=n(150),w=n(151),m=n(139),S=n(146),F=n(141),W=[{text:"Weather",to:l},{text:"Forecast",to:b}];function G(){var e=Object(f.b)(),t=e.colorMode,n=e.toggleColorMode,r=Object(f.c)("gray.50","gray.900"),c=Object(f.c)("pink.50","pink.900");return Object(O.jsx)(v.a,{p:2,bg:Object(f.c)("gray.50","gray.900"),borderBottomColor:Object(f.c)("gray.100","gray.700"),borderWidth:1,children:Object(O.jsxs)(y.a,{justifyContent:"space-between",children:[Object(O.jsx)(v.a,{as:"nav",children:Object(O.jsx)(k.a,{as:p.a,to:s,_hover:{textDecoration:"none"},children:Object(O.jsx)(g,{})})}),Object(O.jsxs)(C.a,{children:[W.map((function(e,t){return Object(O.jsx)(k.a,{as:p.a,to:e.to,_hover:{textDecoration:"none"},children:Object(O.jsx)(w.a,{bg:r,_hover:{bg:c},children:Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-l, #7928CA, #FF0080)",fontWeight:"extrabold",children:e.text})})},t)})),Object(O.jsx)(k.a,{href:j,_hover:{textDecoration:"none"},children:Object(O.jsx)(w.a,{bg:Object(f.c)("gray.50","gray.900"),color:"gray.500",_hover:{bg:Object(f.c)("gray.100","gray.800")},children:"GitHub"})}),Object(O.jsxs)(C.a,{p:2,spacing:1.5,children:[Object(O.jsx)(x.a,{children:"\ud83c\udf19"}),Object(O.jsx)(m.a,{isChecked:"light"===t,onChange:n,colorScheme:"pink"}),Object(O.jsx)(x.a,{children:"\u2600\ufe0f"})]}),Object(O.jsxs)(S.a,{children:[Object(O.jsx)(S.b,{as:w.a,variant:"link",cursor:"pointer",children:Object(O.jsx)(F.a,{size:"sm",src:d})}),Object(O.jsxs)(S.d,{children:[Object(O.jsx)(S.c,{as:k.a,isExternal:!0,href:h,_hover:{textDecor:"none"},children:"GitHub"}),Object(O.jsx)(S.c,{as:k.a,isExternal:!0,href:u,_hover:{textDecor:"none"},children:"Linkedin"})]})]})]})]})})}function A(){return Object(O.jsxs)(v.a,{py:30,bgGradient:Object(f.c)("linear(to-b, gray.50, pink.100)","linear(to-b, gray.900, pink.900)"),flexGrow:1,children:[Object(O.jsx)(y.a,{justifyContent:"center",children:Object(O.jsx)(g,{})}),Object(O.jsxs)(x.a,{pt:6,fontSize:"sm",textAlign:"center",color:"pink.700",children:["\xa9 2021 Shun Namiki",Object(O.jsx)("br",{}),"This page is created with React / TypeScript / ChakraUI."]})]})}var E=n(4),_=n(90),D=n(95),N=n(142),z=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")};function H(e){var t=e.icon,n=Object(D.a)(e,["icon"]);return Object(O.jsx)(N.a,Object(_.a)({src:z(t)},n))}var I=n(143);function R(e){var t,n,r=e.item,c=(n=r.dt,new Date(1e3*n)),a=c.toDateString(),i="".concat(String(c.getHours()).padStart(2,"0"),":").concat(String(c.getMinutes()).padStart(2,"0"));return Object(O.jsx)(I.a,{children:Object(O.jsxs)(v.a,{boxShadow:"2xl",align:"center",rounded:"lg",p:12,borderWidth:1,borderColor:Object(f.c)("gray.50","gray.700"),children:[Object(O.jsx)(v.a,{children:Object(O.jsx)(H,{icon:null===(t=r.weather[0])||void 0===t?void 0:t.icon,width:55})}),Object(O.jsxs)(v.a,{align:"center",children:[Object(O.jsx)(x.a,{w:130,children:a}),Object(O.jsx)(x.a,{children:i})]})]})})}var T=n(57),M=n.n(T),P=n(79),B="https://api.openweathermap.org/data/2.5",L="&appid=".concat("b2b86779f50b9bf6a8c0808905029f25"),U=function(e){return B+"/weather?q=".concat(e)+L},q=function(e,t){return B+"/forecast?q=".concat(e,"&cnt=").concat(t)+L},J=function(){var e=Object(P.a)(M.a.mark((function e(t){var n,r,c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=U(t),e.prev=1,e.next=4,fetch(n);case 4:if(404!==(r=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===r.status){e.next=11;break}throw console.error(null===r||void 0===r?void 0:r.body),new Error("Unexpected status");case 11:return e.next=13,r.json();case 13:return c=e.sent,e.abrupt("return",c);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(P.a)(M.a.mark((function e(t,n){var r,c,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=q(t,n),e.prev=1,e.next=4,fetch(r);case 4:if(404!==(c=e.sent).status){e.next=8;break}return alert("maybe, city not found"),e.abrupt("return");case 8:if(200===c.status){e.next=11;break}throw console.error(null===c||void 0===c?void 0:c.body),new Error("Unexpected status");case 11:return e.next=13,c.json();case 13:return a=e.sent,e.abrupt("return",a);case 17:e.prev=17,e.t0=e.catch(1),console.error("SOMETHING ERROR HAPPEN: ",e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),X="vancouver",K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=c.a.useState(e),n=Object(E.a)(t,2),r=n[0],a=n[1],i=c.a.useCallback((function(e){a(e.target.value)}),[]);return[r,i]},Q=n(144),Y=n(148);function Z(){var e=K("Vancouver"),t=Object(E.a)(e,2),n=t[0],r=t[1],a=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=c.a.useState(e),n=Object(E.a)(t,2),r=n[0],a=n[1],i=c.a.useCallback((function(){a((function(e){return!e}))}),[]);return{on:r,toggle:i}}(),i=a.on,o=a.toggle,s=function(){var e=c.a.useState(),t=Object(E.a)(e,2),n=t[0],r=t[1];return{weather:n,searchWeather:c.a.useCallback((function(){return J(arguments.length>0&&void 0!==arguments[0]?arguments[0]:X).then((function(e){e&&r(e)}))}),[])}}(),b=s.weather,l=s.searchWeather,j=c.a.useState(n),h=Object(E.a)(j,2),u=h[0],d=h[1],g=c.a.useCallback((function(){l(n).then((function(){return d(n)}))}),[n,l]),p=c.a.useCallback((function(){l(u)}),[l,u]);c.a.useEffect((function(){l()}),[l]),function(e){var t=e.on,n=e.callback;c.a.useEffect((function(){if(t){var e=setInterval(n,12e4);return function(){return clearInterval(e)}}}),[t,n])}({on:i,callback:p});var y=Object(f.c)("gray.50","gray.900");return b?Object(O.jsxs)(v.a,{bg:y,p:2,children:[Object(O.jsx)(x.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Current Weather"}),Object(O.jsxs)(v.a,{p:5,children:[Object(O.jsxs)(C.a,{children:[Object(O.jsx)(Q.a,{onChange:r,value:n}),Object(O.jsx)(w.a,{onClick:g,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Search"})]}),Object(O.jsx)(Y.a,{onChange:o,isChecked:i,colorScheme:"pink",children:"Auto fetch"})]}),Object(O.jsxs)(v.a,{p:10,align:"center",children:[Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:u}),Object(O.jsx)(R,{item:b})]})]}):Object(O.jsx)("div",{})}function $(e){var t=e.forecast;return t?Object(O.jsxs)(v.a,{p:7,children:[Object(O.jsx)(v.a,{align:"center",children:Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:t.city.name})}),Object(O.jsx)(v.a,{align:"center",children:Object(O.jsx)(C.a,{maxWidth:"100vw",overflowX:"scroll",spacing:10,px:30,py:70,children:t.list.map((function(e,t){return Object(O.jsx)(R,{item:e},t)}))})})]}):null}var ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return e>=0&&e<=t},te=n(147),ne=n(138);function re(){var e=K("Tokyo"),t=Object(E.a)(e,2),n=t[0],r=t[1],a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=c.a.useState(e),n=Object(E.a)(t,2),r=n[0],a=n[1],i=c.a.useCallback((function(e){var t=parseInt(e||0);isNaN(t)||ee(t)&&a(t)}),[]);return[r,i]}(),i=Object(E.a)(a,2),o=i[0],s=i[1],b=function(){var e=c.a.useState(void 0),t=Object(E.a)(e,2),n=t[0],r=t[1],a=c.a.useState(!1),i=Object(E.a)(a,2),o=i[0],s=i[1],b=c.a.useCallback((function(e){var t=e.days,n=e.cityName;return function(){if(!o){s(!0);var e=ee(t)?t:7;V(n,e).then((function(e){e&&r(e)})).catch((function(e){return console.log("oh, err",e)})).finally((function(){return s(!1)}))}}}),[o]);return{loading:o,forecast:n,createFetch:b}}(),l=b.loading,j=b.forecast,h=b.createFetch,u=c.a.useMemo((function(){return h({days:o,cityName:n})}),[o,n,h]);return Object(O.jsxs)(C.b,{bg:Object(f.c)("gray.50","gray.900"),p:2,children:[Object(O.jsx)(x.a,{align:"center",bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:"3xl",fontWeight:"extrabold",children:"Forecast"}),Object(O.jsxs)(C.b,{p:10,m:2,borderRadius:10,borderWidth:1,children:[Object(O.jsxs)(C.a,{align:"center",justifyContent:"space-between",children:[Object(O.jsx)(x.a,{as:"label",color:"pink.800",children:"City Name"}),Object(O.jsx)(Q.a,{value:n,onChange:r,placeholder:"e.g. Tokyo",width:"80%",color:"pink.800"})]}),Object(O.jsxs)(C.a,{align:"center",justifyContent:"space-between",children:[Object(O.jsx)(x.a,{as:"label",color:"pink.800",children:"Items"}),Object(O.jsxs)(te.c,{value:o,onChange:s,placeholder:"e.g. 0~16",width:"80%",color:"pink.800",children:[Object(O.jsx)(te.d,{}),Object(O.jsxs)(te.e,{children:[Object(O.jsx)(te.b,{}),Object(O.jsx)(te.a,{})]})]})]}),Object(O.jsx)(w.a,{onClick:u,disabled:l,bg:"pink.600",color:"white",_hover:{bg:"pink.500"},children:"Get Forecast"})]}),l?Object(O.jsx)(v.a,{align:"center",children:Object(O.jsx)(ne.a,{color:"pink"})}):Object(O.jsx)($,{forecast:j})]})}var ce=[{title:"Weather",description:"Access current weather data for any location including over 200,000 cities.",path:l},{title:"Forecast",description:"5 day forecast including weather data every 3 hours is available at any location or city.",path:b}];function ae(){var e=Object(f.c)("gray.300","gray.600");return Object(O.jsxs)(v.a,{bg:Object(f.c)("gray.50","gray.900"),px:10,children:[Object(O.jsx)(v.a,{py:10,children:Object(O.jsxs)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:100,lineHeight:"90px",fontWeight:"extrabold",children:["Open",Object(O.jsx)("br",{}),"Weather",Object(O.jsx)("br",{}),"App",Object(O.jsx)("br",{})]})}),Object(O.jsx)(C.a,{align:"center",py:10,children:ce.map((function(t,n){return Object(O.jsxs)(v.a,{p:10,borderColor:e,borderWidth:1,borderRadius:"10px",children:[Object(O.jsx)(x.a,{bgClip:"text",bgGradient:"linear(to-b, #7928CA, #FF0080)",fontSize:50,fontWeight:"extrabold",children:t.title}),Object(O.jsx)(x.a,{color:"pink.600",children:t.description}),Object(O.jsx)(k.a,{to:t.path,as:p.a,_hover:{textDecoration:"none"},children:Object(O.jsx)(w.a,{mt:4,bg:"pink.500",_hover:{bg:"pink.300"},color:"white",children:"Goto Page!"})})]},n)}))})]})}var ie=n(149);function oe(){return Object(O.jsxs)(o.d,{children:[Object(O.jsx)(o.b,{path:l,children:Object(O.jsx)(Z,{})}),Object(O.jsx)(o.b,{path:b,children:Object(O.jsx)(re,{})}),Object(O.jsx)(o.b,{path:s,children:Object(O.jsx)(ae,{})})]})}var se=function(){return Object(O.jsx)(ie.a,{children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(y.a,{minHeight:"100vh",flexDir:"column",children:[Object(O.jsx)(G,{}),Object(O.jsx)(oe,{}),Object(O.jsx)(A,{})]})})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(se,{})}),document.getElementById("root")),be()}},[[117,1,2]]]);
//# sourceMappingURL=main.e8806f34.chunk.js.map